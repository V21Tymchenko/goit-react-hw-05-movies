"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[958],{3862:function(e,t,n){n.d(t,{Cm:function(){return h},TW:function(){return d},fO:function(){return l},q8:function(){return f},sy:function(){return p}});var a=n(5861),r=n(7757),c=n.n(r),o=n(1044),s="https://api.themoviedb.org/3",i="3c137c4d293c8ccacc79a0998fff8ad4",u=function(){var e=(0,a.Z)(c().mark((function e(){var t,n,a,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,o.ZP.get(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function l(){return u("".concat(s,"/trending/movie/day?api_key=").concat(i))}function f(e){return u("".concat(s,"/movie/").concat(e,"?api_key=").concat(i))}function d(e){return u("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(i,"&language=en-US"))}function h(e){return u("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US&page=1"))}function p(e,t){return u("".concat(s,"/search/movie?api_key=").concat(i,"&page=").concat(t,"&query=").concat(e,"&language=en-US&include_adult=false"))}},8958:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var a=n(2982),r=n(5861),c=n(885),o=n(7757),s=n.n(o),i=n(2791),u=n(6731),l=n(7689),f=n(3862),d=n(297),h=n(9126),p=n(9014),v="MoviesPage_SearchInput__eEJjY",_="MoviesPage_SearchForm__jW9w8",m="MoviesPage_SearchSection__0VA1e",g="MoviesPage_SearchList__pTs6k",x="MoviesPage_SearchButton__ooAlA",j="MoviesPage_SearchItem__97++7",w="MoviesPage_SearchText__fl9Xc",b="MoviesPage_SearchHoverText__qq9T-",y="MoviesPage_searchIcon__mi7UF",S="MoviesPage_LoadMore__7BOYB",k="MoviesPage_buttonShadow__TF5v3",P="MoviesPage_buttonEdge__94FLF",N="MoviesPage_buttonFront__QlNWG",M="MoviesPage_loading__+eW3h",Z=n(659),T=n(6355),E="ScrollUp_Button__yo4Ah",L=n(184),W=function(){var e=(0,i.useState)(!1),t=(0,c.Z)(e,2),n=t[0],a=t[1],r=function(){var e=document.documentElement.scrollTop;e>300?a(!0):e<=300&&a(!1)};return(0,i.useEffect)((function(){return window.addEventListener("scroll",r),function(){window.removeEventListener("scroll",r)}})),(0,L.jsx)("div",{className:E,children:(0,L.jsx)(T.nbd,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{display:n?"inline":"none"}})})},q=n(5243);var C=function(){var e,t=(0,i.useState)([]),n=(0,c.Z)(t,2),o=n[0],T=n[1],E=(0,u.lr)(""),C=(0,c.Z)(E,2),F=C[0],B=C[1],I=(0,i.useState)(1),U=(0,c.Z)(I,2),A=U[0],O=U[1],H=(0,i.useState)(""),V=(0,c.Z)(H,2),Y=V[0],D=V[1],G=(0,i.useState)(!1),J=(0,c.Z)(G,2),Q=J[0],X=J[1],z=null!==(e=F.get("search"))&&void 0!==e?e:"",K=(0,l.TH)();function R(e,t){if(e){var n=function(){var n=(0,r.Z)(s().mark((function n(){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return X(!0),n.prev=1,n.next=4,(0,f.sy)(e,t);case 4:if(!((r=n.sent).results.length<1)){n.next=7;break}return n.abrupt("return",p.ZP.error("We dont have any movies with name "+e));case 7:T([].concat((0,a.Z)(o),(0,a.Z)(r.results))),n.next=15;break;case 10:if(n.prev=10,n.t0=n.catch(1),422!==n.t0.response.status){n.next=14;break}return n.abrupt("return",p.ZP.error("We dont have any movies with name "+e));case 14:console.log("error :>> ",n.t0);case 15:return n.prev=15,X(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[1,10,15,18]])})));return function(){return n.apply(this,arguments)}}();n()}}(0,i.useEffect)((function(){R(z,A)}),[z]),(0,i.useEffect)((function(){R(z,A)}),[z,A]),(0,i.useEffect)((function(){window.scrollTo(0,0)}),[]);var $=o.length>=20&&o.length<=70;return(0,L.jsxs)("section",{className:m,children:[(0,L.jsxs)(Z.x,{maxWidth:"1200px",m:"0 auto",children:[(0,L.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value;B({search:t}),O(1),T([]),e.target.reset()},className:_,children:[(0,L.jsx)("input",{type:"text",name:"query",value:Y,placeholder:"movie search",className:v,onChange:function(e){return D(e.target.value)}}),(0,L.jsx)("button",{className:x,type:"submit",children:(0,L.jsx)(h.dVI,{className:y})})]}),Q&&(0,L.jsx)("div",{className:M,children:(0,L.jsx)(q.Bb,{height:"80",width:"80",radius:"9",color:"red",ariaLabel:"loading",wrapperStyle:!0})}),o&&(0,L.jsx)("ul",{className:g,children:o.map((function(e){return(0,L.jsxs)("li",{className:j,children:[(0,L.jsx)(u.OL,{to:"".concat(e.id),state:{from:K},children:(0,L.jsx)("img",{src:e.poster_path?"https://image.tmdb.org/t/p/w500/".concat(e.poster_path):d,alt:e.title})}),(0,L.jsx)("div",{className:b,children:(0,L.jsx)("p",{className:w,children:e.original_title})})]},e.id)}))}),$&&(0,L.jsxs)("button",{className:S,onClick:function(){O((function(e){return e+1}))},children:[(0,L.jsx)("span",{className:k}),(0,L.jsx)("span",{className:P}),(0,L.jsx)("span",{className:N,children:"Load more"})]}),(0,L.jsx)(p.x7,{})]}),(0,L.jsx)(W,{})]})}},297:function(e,t,n){e.exports=n.p+"static/media/dafaultImg.aba1731045e04d7a71aa.jpg"}}]);
//# sourceMappingURL=958.d69f3f2e.chunk.js.map